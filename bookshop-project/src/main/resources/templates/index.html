<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8"/>
<title>Home</title>
<link rel="stylesheet" th:href="@{/css/style.css}" href="../../css/style.css"/>
</head>
<body>
  <div class="left-elements">
    <form name="Logout" th:action="@{/logout}" method="post">
      <input type="submit" value="Logout"/>
    </form>
  </div>
  
  <div class="center-elements">
    <form name="search_form" th:action="@{/search}" method="get">
      <h4 class="headers">Search by title</h4>
      <input type="text" name="title_searched"
        placeholder="Type a book title..."/>
        <button id="btn_search" type="submit" name="Search">Search</button> 
      <br>
    </form>
  </div>
    
  <br>
  
  <div class="center-elements">
    <h3 class="headers">Book List</h3>
    <a th:href="@{/new}"><button name= "Insert">Insert</button></a>
    or
    <form name="deleteAll" th:action="@{/deleteAll}" method="get">
      <button type="submit" name="Delete All">Delete All</button>
    </form>
  </div>
  <br>
  <!-- IF NO BOOKS -->
  <div class="center-elements" th:if="${books.empty}">
    <div>There are no books.</div>
  </div>
  <!-- ELSE -->
  <div th:unless="${books.empty}">
    <table class="table" id="Book Table">
      <caption>Books</caption>
      <thead>
        <tr>
          <th scope="col">Title</th>
          <th scope="col">Author</th>
          <th scope="col">Price</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="book : ${books}">
          <td th:text="${book.title}"></td>
          <td th:text="${book.author}"></td>
          <td th:text="${book.price}"></td>
          <td><a id="edit" th:href="@{'/edit/' + ${book.id}}"><button name="Edit">Edit</button></a></td>
          <td><a th:href="@{/delete(id=${book.id})}"><button name="Delete">Delete</button></a></td>        
        </tr>
      </tbody>
    </table>
  </div>
</body>
</html>